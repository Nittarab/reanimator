# =============================================================================
# AI SRE Platform Environment Configuration
# =============================================================================
# Copy this file to .env and update with your actual values
# NEVER commit .env to version control - it contains sensitive credentials
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL Configuration (Docker Container)
# -----------------------------------------------------------------------------
# These variables configure the PostgreSQL Docker container
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=ai_sre

# -----------------------------------------------------------------------------
# Database Connection (Incident Service)
# -----------------------------------------------------------------------------
# These variables are used by the Incident Service to connect to PostgreSQL
# In development with Docker Compose, use 'postgres' as the host
# For local development without Docker, use 'localhost'
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=ai_sre
DATABASE_USER=postgres
DATABASE_PASSWORD=your_secure_password_here
DATABASE_SSL_MODE=disable  # Use 'require' in production

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Redis is used for rate limiting, caching, and incident deduplication
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# -----------------------------------------------------------------------------
# GitHub Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# GitHub Personal Access Token with 'workflow' scope
# Create at: https://github.com/settings/tokens/new
# Required permissions: workflow (to trigger GitHub Actions)
GITHUB_TOKEN=your_github_token_here

# GitHub API URL (use GitHub Enterprise URL if applicable)
GITHUB_API_URL=https://api.github.com

# -----------------------------------------------------------------------------
# Dashboard Configuration
# -----------------------------------------------------------------------------
# Base URL for the Incident Service API
# In development: http://localhost:8080/api/v1
# In production: https://your-domain.com/api/v1
VITE_API_BASE_URL=http://localhost:8080/api/v1

# -----------------------------------------------------------------------------
# Demo App Configuration
# -----------------------------------------------------------------------------
# Port for the demo application
PORT=3002

# Node environment (development, production, test)
NODE_ENV=development

# Sentry DSN for error tracking (optional)
# Get your DSN from: https://sentry.io/settings/projects/
# Leave empty to disable Sentry integration
SENTRY_DSN=

# -----------------------------------------------------------------------------
# MCP Server Configuration (Optional)
# -----------------------------------------------------------------------------
# These credentials are used by Kiro CLI to query observability platforms
# for additional context during incident remediation

# Datadog API credentials
# Get from: https://app.datadoghq.com/organization-settings/api-keys
DATADOG_API_KEY=
DATADOG_APP_KEY=

# PagerDuty API credentials (if using PagerDuty)
# PAGERDUTY_API_KEY=

# Grafana API credentials (if using Grafana)
# GRAFANA_API_KEY=
# GRAFANA_URL=

# -----------------------------------------------------------------------------
# Test Database Configuration (Used by scripts/test.sh)
# -----------------------------------------------------------------------------
# These are automatically set by the test script
# You typically don't need to modify these
TEST_DATABASE_HOST=localhost
TEST_DATABASE_PORT=5434
TEST_DATABASE_NAME=ai_sre_test
TEST_DATABASE_USER=postgres
TEST_DATABASE_PASSWORD=postgres
TEST_DATABASE_SSL_MODE=disable
TEST_REDIS_HOST=localhost
TEST_REDIS_PORT=6380

# -----------------------------------------------------------------------------
# Additional Configuration
# -----------------------------------------------------------------------------
# Most configuration is in config.yaml, but you can override here if needed

# Workflow name (defined in config.yaml, override if needed)
# WORKFLOW_NAME=remediate-incident.yml

# Maximum concurrent workflows per repository (defined in config.yaml)
# MAX_WORKFLOWS_PER_REPO=2

# Deduplication time window (defined in config.yaml)
# DEDUPLICATION_WINDOW=5m

# Server port (defined in config.yaml, override if needed)
# SERVER_PORT=8080

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. NEVER commit .env to version control
# 2. Use strong, unique passwords for production
# 3. Rotate credentials regularly
# 4. Use DATABASE_SSL_MODE=require in production
# 5. Store production secrets in a secure secrets manager
# 6. Limit GitHub token permissions to workflow scope only
# =============================================================================
